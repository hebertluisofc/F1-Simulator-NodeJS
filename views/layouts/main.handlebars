<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Blog de F1</title>
    <link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>
    <header>
        <h1>Blog de F1 ğŸï¸</h1>
        <nav>
            <a href="/">Home</a> |
            <a href="/nova">Nova Postagem</a> |
            <a href="/postagens">Postagens</a>
        </nav>
    </header>

    <main class="main-content">
        <div class="content">
            {{{body}}}
        </div>
        <aside class="sidebar" id="sidebar-standings">
            <h3>ğŸ Ranking de Pilotos</h3>
            <ol id="pilotos-list"></ol>

            <h3>ğŸï¸ Equipes</h3>
            <ol id="construtores-list"></ol>
        </aside>

        <script>
            async function loadStandings() {
                const resP = await fetch('/api/standings/pilotos');
                const { pilotos } = await resP.json();
                const listaP = document.getElementById('pilotos-list');
                pilotos.forEach(p => {
                    const li = document.createElement('li');
                    li.innerText = `${p.posicao}. ${p.nome} â€” ${p.equipe} â€” ${p.pontos} pts`;
                    listaP.appendChild(li);
                });

                const resC = await fetch('/api/standings/construtores');
                const { construtores } = await resC.json();
                const listaC = document.getElementById('construtores-list');
                construtores.forEach(c => {
                    const li = document.createElement('li');
                    li.innerText = `${c.posicao}. ${c.nome} â€” ${c.pontos} pts`;
                    listaC.appendChild(li);
                });
            }

            document.addEventListener('DOMContentLoaded', loadStandings);
        </script>

    </main>

    <footer>
        <p>&copy; 2025 Blog de F1</p>
    </footer>

    <script src="/assets/js/main.js"></script>
</body>

</html>